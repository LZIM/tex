\documentclass[12pt,twoside]{article}

\usepackage[english]{babel}
\usepackage{fontspec}

% Font choice:
%
% Garamond Premier Pro, unfortunately, costs money.
%
% Any owner of Adobe Reader actually has copies of the excellent, quite
% full-featured OpenType font Minion Pro. Look in Reader's application
% files.
%
% On a Mac, Hoefler Text makes a reasonable fallback.
%
% This setup assumes your font has small caps and old-style figures.
%
% Finally, there are some free Palatino variants. For use with xelatex,
% I have been okay with TeX Gyre Pagella (an open-source font). If
% you wish, you could remove the xelatex/fontspec dependency here and
% instead use pdflatex with package mathpazo.

\setmainfont[Ligatures=TeX,Numbers=OldStyle]{Garamond Premier Pro}

\usepackage{xunicode}
\usepackage{xltxtra} 

\usepackage{hanging}
\usepackage{multicol}
\usepackage{fancyhdr}
\usepackage{geometry}
\usepackage{setspace}
\usepackage{xkeyval}
\usepackage{enumerate}

% Section header formatting:
%
% level 1: \large small caps
% level 2: small caps
% level 3: run-in italics followed by a period

\usepackage[sc,small,raggedright,compact]{titlesec}

\titleformat*{\section}{\large\scshape\lowercase}
\titleformat*{\subsection}{\scshape\lowercase}
\newcommand{\periodafter}[1]{#1.}
\titleformat{\subsubsection}[runin]%
    {\itshape}{\thesubsubsection}{0pt}{\periodafter}


% This file, with version control info, is generated by running ./vc 
\input{vc.tex}

% Some tweaks necessary to ensure annotations print at the end of 
% bibliography entries.
\usepackage{csquotes}
\usepackage[notes,annotation,short,backend=biber]{biblatex-chicago}
\DeclareFieldFormat{annotation}{#1\isdot}

% Swaps biblatex-chicago's default for \autocite from \footcite to \cite.
% This way, when pandoc converts [@key] citations to \autocite, you'll
% get inline (short) citations.
\DeclareAutoCiteCommand{footnote}{\cite}{\cites}

% Bibliography will print \small
\renewcommand{\bibfont}{\small}

\addbibresource{course.bib}

\setcounter{secnumdepth}{-2}	% Suppress section numbers even with unstarred
				% (sub)section commands.

% adjust margins as you will
\geometry{hcentering=true,xetex}

% page headers. Set up for headers on odd-side pages only
\pagestyle{fancy}

\renewcommand{\footrulewidth}{0 pt} % I don't like fancyhdr's rules.
\renewcommand{\headrulewidth}{0 pt}
\fancyhead{}
\fancyhead[LO]{\small Course Number}
\fancyhead[CO]{\small Universal University}
\fancyhead[RO]{\small Semester}
\fancyfoot{}
\cfoot{\small \thepage}
% VCDateUSA macro supplied in tweaked vc-git.awk
\rfoot{\small Last revised \VCDateUSA}

% extra leading rather than indents to separate paragraphs
\singlespacing
\setlength{\parindent}{0 pt}
\setlength{\parskip}{0.25\baselineskip}

% overfull hboxes, begone
\setlength{\emergencystretch}{2 em}

\usepackage[dvipsnames]{xcolor}
\usepackage[
  pdftitle={Course Title},
  pdfauthor={Your Name Here},
  bookmarks, bookmarksopen,
  colorlinks=true,urlcolor=blue,citecolor=BlueViolet,
  xetex]{hyperref}
\urlstyle{same}

\begin{document}

% Sorry, world, but it's amazing how annoying it is to convince the
% titling package to do what I want with titles on documents like these.
%
% So no \maketitle. Manually format course title in \large caps:

{\large
    \uppercase{A Course}
}

\begin{flushleft}
Professor Your Name Here \\
\url{http://course.example.edu}
\end{flushleft}


\input{input/overview.tex}
\input{input/goals.tex}
\input{input/reqs.tex}
\input{input/grading.tex}
\input{input/schedule.tex}

% Include all texts in bibliography database
% (but we'll skip any with keyword ``supplemental'' below)
\nocite{*}

% Two-column layout is better, unless you have to include a lot of URLs
\begin{multicols}{2}[%
    \section{Readings} \textsc{isbn}s are included to help students ordering books online.]
\printbibliography[notkeyword=supplemental,heading=none]
\end{multicols}

% one-column layout:

% \printbibliography[notkeyword=supplemental,title=Readings]

\vfill
\footnotesize
\input{input/ack.tex}

\end{document}

